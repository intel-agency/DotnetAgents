{"data":{"repository":{"pullRequest":{"reviewThreads":{"nodes":[{"id":"PRRT_kwDOQNh2DM5jAKo8","isResolved":true,"isOutdated":false,"path":"DotnetAgents/DotnetAgents.AgentApi/Services/AgentWorkerService.cs","line":117,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxUH","databaseId":2550338823,"body":"✅ Fixed in 1696ed5. Issue: AgentWorkerService could spin endlessly after exceptions. Resolution: catch block now awaits a five second delay that honors the stopping token so repeated failures back off.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jAKpH","isResolved":true,"isOutdated":false,"path":"DotnetAgents/IntelAgent/Agent.cs","line":125,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxVq","databaseId":2550338922,"body":"✅ Fixed in 1696ed5. Issue: exhausting MAX_ITERATIONS returned success and tasks appeared complete. Resolution: Agent now tracks whether the loop exited early and throws InvalidOperationException when iterations are exhausted so the worker marks the task failed.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jAKpQ","isResolved":true,"isOutdated":true,"path":"DotnetAgents/DotnetAgents.Tests/AgentWorkerServiceTests.cs","line":null,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxXN","databaseId":2550339021,"body":"✅ Fixed in 1696ed5. Issue: mocked IServiceProvider reused the root scope so scoped lifetimes were never exercised. Resolution: AgentWorkerServiceTests now builds a real ServiceCollection and scoped provider (with shared InMemoryDatabaseRoot) to mirror production behavior.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jAKpW","isResolved":true,"isOutdated":true,"path":"DotnetAgents/DotnetAgents.Tests/AgentWorkerServiceTests.cs","line":null,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxZR","databaseId":2550339153,"body":"✅ Fixed in 1696ed5. Issue: the test relied on Task.Delay guesses to know when the background loop picked up work. Resolution: introduced a TaskCompletionSource that the agent callback completes so the test cancels only after work actually starts.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jALyU","isResolved":true,"isOutdated":true,"path":"DotnetAgents/DotnetAgents.Tests/AgentWorkerServiceTests.cs","line":null,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxan","databaseId":2550339239,"body":"✅ Fixed in 1696ed5. Issue: CreateScope was mocked through GetService even though production uses GetRequiredService so setups never fired. Resolution: the refactored test now uses the DI scope factory from the real provider so CreateScope behaves exactly like runtime.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jALym","isResolved":true,"isOutdated":true,"path":"DotnetAgents/DotnetAgents.Tests/AgentWorkerServiceTests.cs","line":null,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxcO","databaseId":2550339342,"body":"✅ Fixed in 1696ed5. Issue: async lambda passed to Moq Callback was never awaited. Resolution: switched to Returns<AgentTask,...>(async ...) so the simulated agent awaits the progress callback and updates deterministically.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jALy2","isResolved":true,"isOutdated":true,"path":"DotnetAgents/docs/LLM_Response_Routing_Implementation_Plan.md","line":null,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxdw","databaseId":2550339440,"body":"✅ Fixed in 1696ed5. Issue: Phase 3 row still showed Ready to start. Resolution: docs/LLM_Response_Routing_Implementation_Plan.md now marks Phase 3 as In review (PR #6) to match the implementation state.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jALzA","isResolved":true,"isOutdated":true,"path":"DotnetAgents/docs/Phase1-4_Audit.md","line":null,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxen","databaseId":2550339495,"body":"✅ Fixed in 1696ed5. Issue: documentation claimed Agent.ExecuteTaskAsync sets StartedAt even though the worker owns lifecycle timestamps. Resolution: Phase1-4_Audit.md now states the agent only updates progress fields while AgentWorkerService controls StartedAt and CompletedAt.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jALzP","isResolved":true,"isOutdated":true,"path":"DotnetAgents/docs/Phase1-4_Audit.md","line":null,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxfQ","databaseId":2550339536,"body":"✅ Fixed in 1696ed5. Issue: the table reiterating Phase 3 responsibilities repeated the StartedAt mixup. Resolution: same file now makes it explicit that lifecycle timestamps stay in AgentWorkerService.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jALzW","isResolved":true,"isOutdated":true,"path":"DotnetAgents/IntelAgent/Agent.cs","line":null,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxgL","databaseId":2550339595,"body":"✅ Fixed in 1696ed5. Issue: Agent.ExecuteTaskAsync assigned task.StartedAt causing a race with AgentWorkerService. Resolution: removed the assignment so the worker remains the sole owner of lifecycle timestamps.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jALzg","isResolved":true,"isOutdated":true,"path":"DotnetAgents/DotnetAgents.Tests/AgentWorkerServiceTests.cs","line":null,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxhO","databaseId":2550339662,"body":"✅ Fixed in 1696ed5. Issue: tests mocked GetService while production uses GetRequiredService resulting in mismatched behavior. Resolution: using a real ServiceProvider means GetRequiredService resolves correctly and prevents regressions.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jALzm","isResolved":true,"isOutdated":true,"path":"DotnetAgents/DotnetAgents.Tests/AgentWorkerServiceTests.cs","line":null,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxic","databaseId":2550339740,"body":"✅ Fixed in 1696ed5. Issue: CancellationTokenSource in the test was never disposed. Resolution: wrapped the CTS in a using scope so it is cleaned up after the worker stops.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jALzu","isResolved":true,"isOutdated":true,"path":"DotnetAgents/DotnetAgents.Tests/AgentWorkerServiceTests.cs","line":null,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YAxjr","databaseId":2550339819,"body":"✅ Fixed in 1696ed5. Issue: empty catch swallowed OperationCanceledException and hid failures. Resolution: added an explicit try or catch block that documents the expected cancellation path.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jEGbt","isResolved":true,"isOutdated":false,"path":"DotnetAgents/IntelAgent.Tests/AgentTests.cs","line":62,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YCrLG","databaseId":2550837958,"body":"✅ Fixed in e87593a. Issue: Agent unit test assumed the worker-owned StartedAt timestamp. Resolution: removed the assertion so the test only verifies Agent responsibilities.","author":{"login":"nam20485"}}]}},{"id":"PRRT_kwDOQNh2DM5jEGb1","isResolved":true,"isOutdated":false,"path":"DotnetAgents/DotnetAgents.AgentApi/Services/AgentWorkerService.cs","line":121,"comments":{"nodes":[{"id":"PRRC_kwDOQNh2DM6YCrOg","databaseId":2550838176,"body":"✅ Fixed in e87593a. Issue: worker used an unnamed five-second backoff. Resolution: introduced ErrorRetryDelay and now await that constant so future changes stay centralized.","author":{"login":"nam20485"}}]}}]}}}}}